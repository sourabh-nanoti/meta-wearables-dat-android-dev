{
  "name": "Cloud Dev Environment",
  "features": {
    "ghcr.io/devcontainers/features/java:1": {
      "version": "17"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "vscjava.vscode-java-pack",
        "ms-androidtools.vscode-android"
      ]
    }
  },
  "containerEnv": {
    "ANDROID_HOME": "/opt/android-sdk",
    "ANDROID_SDK_ROOT": "/opt/android-sdk"
  },
  "postCreateCommand": "[ -d external/other-repo ] || git clone https://github.com/facebook/meta-wearables-dat-android.git meta/meta-wearables-dat-android || true && java -version && mkdir -p /opt/android-sdk/cmdline-tools  && curl -sSL https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip -o /tmp/cmdline-tools.zip && unzip /tmp/cmdline-tools.zip -d /opt/android-sdk/cmdline-tools && mv /opt/android-sdk/cmdline-tools/cmdline-tools /opt/android-sdk/cmdline-tools/latest && rm /tmp/cmdline-tools.zip && export PATH=$ANDROID_SDK_ROOT/cmdline-tools/latest/bin:$ANDROID_SDK_ROOT/platform-tools:$PATH && yes | sdkmanager --licenses"
}
