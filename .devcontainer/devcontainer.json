{
  "name": "Cloud Dev Environment",
  "features": {
    "ghcr.io/devcontainers/features/java:1": {
      "version": "17"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "vscjava.vscode-java-pack",
        "ms-androidtools.vscode-android"
      ]
    }
  },
  "containerEnv": {
    "ANDROID_HOME": "/opt/android-sdk",
    "ANDROID_SDK_ROOT": "/opt/android-sdk",
    "PATH": "/opt/android-sdk/cmdline-tools/latest/bin:/opt/android-sdk/platform-tools:${containerEnv:PATH}"
  },
  "postCreateCommand": " if [ -z \"$GITHUB_PAT\" ]; then read -p 'Enter your GitHub PAT: ' GITHUB_PAT; fi && mkdir -p /opt/android-sdk && curl -sSL https://dl.google.com/android/repository/commandlinetools-linux-9477386_latest.zip -o /tmp/cmdline-tools.zip && unzip /tmp/cmdline-tools.zip -d /opt/android-sdk/cmdline-tools && mv /opt/android-sdk/cmdline-tools/cmdline-tools /opt/android-sdk/cmdline-tools/latest && rm /tmp/cmdline-tools.zip && yes | sdkmanager --licenses && sdkmanager 'platform-tools' 'platforms;android-34' 'build-tools;34.0.0' && echo 'sdk.dir=/opt/android-sdk' > /workspaces/meta/meta-wearables-dat-android/meta/meta-wearables-dat-android/samples/CameraAccess/local.properties && [ -d external/other-repo ] || git clone https://github.com/facebook/meta-wearables-dat-android.git meta/meta-wearables-dat-android || true && java -version"
}
